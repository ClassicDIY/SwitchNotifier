#pragma once

const char home_html[] PROGMEM = R"rawliteral(
	<!DOCTYPE html><html lang=\"en\"><head><meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no, charset=utf-8">
	<title>%title%</title>
	<link rel="stylesheet" href="/style.css">
	<script>
		function initWebSocket() {
		  const socket = new WebSocket('ws://' + window.location.hostname + '/ws_home');
		  socket.onmessage = function(event) {
				const gpioValues = JSON.parse(event.data);
				for (const [key, value] of Object.entries(gpioValues)) {
					// console.log(`Pin: ${key}, State: ${value}`);
					const el = document.getElementById(`${key}`);
					if (el) {
						const isNumeric = !isNaN(`${value}`);
						if (isNumeric) {
							el.innerText = `${key}: ${value}`;
							el.style.backgroundColor = 'yellow';
						} else {
							if (`${value}` === `High` || `${value}` === `On`) {
								el.style.backgroundColor = 'green';
							} else {
								el.style.backgroundColor = 'red';
							}
						}
					}
				}
			};

			socket.onerror = function(error) {
      			console.error('WebSocket error:', error);
    		};

			window.addEventListener('beforeunload', function() {
				if (socket) {
					socket.close();
				}
			});
		}
		window.onload = function() {
		  initWebSocket();
		}
	</script>

	</head>
  	<body>
	<div id="home">
		<div id="hdr">
			<h2>%title%</h2>
			<div style='font-size: .6em;'>Firmware version '%version%'</div>
			<hr>
			<div class="container">
				<div class="home-group">
					<div class="field">
						<fieldset class="fs">
						<legend>Email Messages</legend>
						<div class="info">
						%emailMessages%
						</div>
						</fieldset>
					</div>
					<div class="link-row">
						<p><a href='settings'>Settings</a></p>
						<p><a href='/log' target='_blank'>Web Log</a></p>
					</div>
				</div>
			</div>
		</div>
	</div>
	</body></html>
	)rawliteral";

const char snmp_config_fieldset[] PROGMEM = R"rawliteral(
	<fieldset id="snmp" class="fs">
	<legend>SNMP</legend>
		<div class="state_box">
			<div class="form-grid">
				<label for="smtpServer">SMTP Server</label> <input type="text" id="smtpServer" name="smtpServer" maxlength="64">
				<label for="smtpPort">SMTP Port</label><select id="smtpPort" name="smtpPort">
					<option value="25" >25</option>
					<option value="465" >465</option>
					<option value="587" >587</option>
					<option value="2525" >2525</option>
				</select>
				<label for="senderEmail">Sender Email</label> <input type="text" id="senderEmail" name="senderEmail" maxlength="64">
				<label for="senderPassword">Sender Password</label> <input type="text" id="senderPassword" name="senderPassword" maxlength="64">
				<label for="recipientEmail">Recipient Email</label> <input type="text" id="recipientEmail" name="recipientEmail" maxlength="64">
				<label for="recipientName">Recipient Name</label> <input type="text" id="recipientName" name="recipientName" maxlength="64">
				<label for="subject">Subject</label> <input type="text" id="subject" name="subject" maxlength="64">
			</div>
		</div>
	</fieldset>
	<fieldset id="app" class="fs">
	<legend>Email Messages</legend>
		<div class="conv">
			%aconv%
		</div>
	</fieldset>
)rawliteral";

const char app_input[] PROGMEM = R"rawliteral(
<div class="form-grid">
	<label for="msg{bm}">Email text for button {bm}</label>
	<input type="text" id="msg{bm}" name="msg{bm}"value="{message}" maxlength="64">
</div>
)rawliteral";
